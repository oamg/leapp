name: tmt@TF

on:
  issue_comment:
    types:
      - created

jobs:
  call_workflow_copr_build:
    uses: fernflower/leapp/.github/workflows/reuse-copr-build.yml@master
    secrets: inherit

  call_workflow_tests_7to8:
    needs: call_workflow_copr_build
    uses: fernflower/leapp/.github/workflows/reuse-tests-7to8.yml@master
    secrets: inherit
    with:
      copr_artifacts: ${{ needs.call_workflow_copr_build.outputs.artifacts }}

  call_workflow_tests_8to9:
    needs: call_workflow_copr_build
    uses: fernflower/leapp/.github/workflows/reuse-tests-8to9.yml@master
    secrets: inherit
    with:
      copr_artifacts: ${{ needs.call_workflow_copr_build.outputs.artifacts }}
